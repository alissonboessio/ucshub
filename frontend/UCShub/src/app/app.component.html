<mat-toolbar style="overflow: hidden;" color="primary" *ngIf="showMenu">
  <mat-toolbar-row style="border-bottom: 1px solid #d4d4d4;">
    <div class="logo" routerLink="">
      <img src="./assets/logo-bar.png" style="height: 60px;">
    </div>
    <span class="userName">Olá {{ loggedUser?.person?.name }}, bem vindo!</span>
    <span class="example-spacer"></span>
    <div class="nav-buttons">
      <!-- <button mat-stroked-button class="grey"  routerLinkActive="selected" routerLink="/advanced_search">
        <mat-icon>search</mat-icon>
        Pesquisa Avançada
      </button> -->
      <button mat-stroked-button class="grey round"  routerLinkActive="selected" 
        [routerLink]="['/list-productions']" 
        [queryParams]="{ person: (loggedUser?.person?.id || '') }">
        <mat-icon>list_alt</mat-icon>
        Minhas Produções
      </button>
      <button mat-stroked-button class="grey round"  routerLinkActive="selected" 
      [routerLink]="['/list-projects']" 
      [queryParams]="{ person_id: (loggedUser?.person?.id || '') }">
      <mat-icon>tab_group</mat-icon>
      Meus Projetos
    </button>
      <!-- <button mat-stroked-button class="grey"  routerLinkActive="selected" routerLink="/production">
        <mat-icon>upload_file</mat-icon>
        Cadastrar Produção
      </button> -->
      <button mat-icon-button class="menu-icon" aria-label="menu button" [matMenuTriggerFor]="menu">
        <mat-icon>menu</mat-icon>
      </button>
    </div>
  </mat-toolbar-row>

  <mat-menu #menu="matMenu" class="menu">    
    <button mat-menu-item (click)="myData()">
      <mat-icon>person</mat-icon>
      Meus Dados
    </button>
    <button mat-menu-item (click)="addResearcher()">
      <mat-icon>group</mat-icon>
      Cadastrar Pesquisador
    </button>
    <button mat-menu-item (click)="addResource()">
      <mat-icon>attach_money</mat-icon>
      Cadastrar Recurso
    </button>
    <button mat-menu-item (click)="addInstitution()">
      <mat-icon>apartment</mat-icon>
      Cadastrar Instituição
    </button>
    <div class="buttons-media-query">     
      <button mat-menu-item
        [routerLink]="['/list-productions']" 
        [queryParams]="{ person: (loggedUser?.person?.id || '') }">
        <mat-icon>list_alt</mat-icon>
        Minhas Produções
      </button>
      <button mat-menu-item
      [routerLink]="['/list-projects']" 
      [queryParams]="{ person_id: (loggedUser?.person?.id || '') }">
      <mat-icon>tab_group</mat-icon>
      Meus Projetos
    </button>
    </div>
    <button mat-menu-item (click)="handleLogout()">
      <mat-icon style="color: #ff6666;">logout</mat-icon>
      <span style="color: #ff6666">Sair</span>
    </button>
  </mat-menu>
</mat-toolbar>

<div [ngClass]="{'login': !showMenu}" style="height: calc(100% - 64px); overflow-x: hidden; background-color: white;">
  <router-outlet></router-outlet>
</div>
